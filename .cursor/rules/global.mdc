---
description: "Always apply: mission, topic flow, CMS-driven content, correctness-first, resumable slices, Vercel-safe."
alwaysApply: true
---

# Global Rules (Non-negotiable)

## Mission
Build a backend-driven Frontend System Design learning website.
Every topic page MUST have exactly two primary sections:
1) THEORY (very detailed, structured, reference-backed)
2) PRACTICE (interactive learn-by-doing demos + hands-on tasks + solutions)

Users should not need other sites to learn. References are for credibility, not dependency.

## Non-negotiables
- Next.js App Router + TypeScript + Tailwind. Vercel-friendly.
- Payload CMS + MongoDB. Topic content must be CMS-driven (no hardcoded lessons in route files).
- Correctness-first: do not invent facts. If unsure: label "Needs verification" + store placeholder reference in CMS.
- Prefer Server Components; keep client JS minimal.
- Secrets only via env vars; never expose secrets via NEXT_PUBLIC_.
- If `docs/_source/curriculum.txt` or the PDF exists, use it to verify topic content (do not paste large chunks).

## Resumable slice protocol (prevents context overflow)
Implement in SMALL slices only (one feature chunk / one topic chunk).
Each slice must end with:
- files changed
- Definition of Done checklist
- next step
Do NOT dump large curriculum text into repo; keep full content in CMS (seed minimal placeholders only).
